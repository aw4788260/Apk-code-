<activity
            android:name=".DownloadsActivity"
            android:exported="false"
            android:configChanges="orientation|screenSize|keyboardHidden"
            android:screenOrientation="fullSensor" /> 
            ```

---

### 2. تعديل عرض الجودة (`DownloadsActivity.java`)

سنقوم بتحديث `CustomAdapter` ليقوم بـ "فصل" العنوان عن الجودة. الكود سيبحث عن الأقواس `()` في العنوان، ويعتبر ما بداخلها هو الجودة (التي هي أرقام الآن) وما قبلها هو العنوان.

**الملف:** `app/src/main/java/com/example/secureapp/DownloadsActivity.java`

استبدل دالة `getView` داخل `CustomAdapter` بالكود التالي (أو قم بتحديث الملف بالكامل إذا كنت تفضل ذلك، التغيير الأساسي هو في منطق `displayQuality`):

```java
        @NonNull
        @Override
        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {
            if (convertView == null) {
                convertView = LayoutInflater.from(getContext()).inflate(R.layout.item_download, parent, false);
            }

            DownloadItem item = getItem(position);
            if (item == null) return convertView;

            // العناصر
            TextView titleView = convertView.findViewById(R.id.video_title);
            View detailsLayout = convertView.findViewById(R.id.details_layout);
            View progressLayout = convertView.findViewById(R.id.progress_layout);
            
            TextView durationView = convertView.findViewById(R.id.video_duration);
            TextView sizeView = convertView.findViewById(R.id.video_size);
            TextView qualityView = convertView.findViewById(R.id.video_quality);
            
            ProgressBar progressBar = convertView.findViewById(R.id.download_progress);
            TextView statusText = convertView.findViewById(R.id.status_text);
            
            ImageView statusIcon = convertView.findViewById(R.id.status_icon);
            ProgressBar loadingSpinner = convertView.findViewById(R.id.loading_spinner);
            View iconContainer = convertView.findViewById(R.id.icon_container);
            ImageView deleteBtn = convertView.findViewById(R.id.delete_btn);

            // ---------------------------------------------------------
            // [ ✅ التعديل الجديد: استخراج الجودة الرقمية من العنوان ]
            // ---------------------------------------------------------
            String displayTitle = item.title;
            String displayQuality = "SD"; // القيمة الافتراضية لو مفيش رقم

            // (نحن نحفظ العنوان بصيغة: "اسم الدرس (720p)")
            // هذا الكود يفصلهم عن بعض
            if (item.title != null && item.title.contains("(") && item.title.endsWith(")")) {
                try {
                    int lastOpen = item.title.lastIndexOf("(");
                    // العنوان هو كل ما قبل القوس الأخير
                    displayTitle = item.title.substring(0, lastOpen).trim();
                    
                    // الجودة هي ما داخل القوسين (مثلاً: 720p)
                    String extractedQuality = item.title.substring(lastOpen + 1, item.title.length() - 1);
                    
                    // تأكد أنها ليست فارغة
                    if (!extractedQuality.isEmpty()) {
                        displayQuality = extractedQuality;
                    }
                } catch (Exception e) {
                    // في حال حدوث أي خطأ في القص، نعود للعنوان الأصلي
                    displayTitle = item.title;
                }
            }

            titleView.setText(displayTitle);
            qualityView.setText(displayQuality); 
            // ---------------------------------------------------------

            // باقي المنطق (عرض الحالة، التحميل، الأيقونات) كما هو...
            if (item.status.equals("Completed")) {
                statusIcon.setVisibility(View.VISIBLE);
                statusIcon.setImageResource(android.R.drawable.ic_media_play);
                loadingSpinner.setVisibility(View.GONE);
                
                detailsLayout.setVisibility(View.VISIBLE);
                progressLayout.setVisibility(View.GONE);
                
                sizeView.setText(getFileSizeString(item.youtubeId));
                durationView.setText(formatDuration(item.duration));

                iconContainer.setOnClickListener(v -> decryptAndPlayVideo(item.youtubeId, item.title, item.duration));
                convertView.setOnClickListener(v -> decryptAndPlayVideo(item.youtubeId, item.title, item.duration));

            } else if (item.status.startsWith("فشل")) {
                statusIcon.setVisibility(View.VISIBLE);
                statusIcon.setImageResource(android.R.drawable.stat_notify_error);
                loadingSpinner.setVisibility(View.GONE);
                
                detailsLayout.setVisibility(View.GONE);
                progressLayout.setVisibility(View.VISIBLE);
                progressBar.setVisibility(View.GONE); 
                statusText.setText("فشل التحميل");
                statusText.setTextColor(0xFFFF4444); 

                iconContainer.setOnClickListener(null);
                convertView.setOnClickListener(null);

            } else {
                statusIcon.setVisibility(View.GONE);
                loadingSpinner.setVisibility(View.VISIBLE);
                
                detailsLayout.setVisibility(View.GONE);
                progressLayout.setVisibility(View.VISIBLE);
                progressBar.setVisibility(View.VISIBLE);
                
                progressBar.setProgress(item.progress);
                statusText.setText("جاري التحميل... " + item.progress + "%");
                statusText.setTextColor(0xFF03DAC5); 
                
                iconContainer.setOnClickListener(v -> Toast.makeText(getContext(), "يرجى الانتظار...", Toast.LENGTH_SHORT).show());
                convertView.setOnClickListener(null);
            }

            deleteBtn.setOnClickListener(v -> confirmDelete(item));

            return convertView;
        }
